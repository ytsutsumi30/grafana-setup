# ã‚«ãƒ¡ãƒ©APIã€Œã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€ã‚¨ãƒ©ãƒ¼è§£æ±ºã‚¬ã‚¤ãƒ‰

## ğŸ” ã‚¨ãƒ©ãƒ¼ç—‡çŠ¶

QRåŒæ¢±ç‰©æ¤œå“ç”»é¢ã§ã€ŒQRã‚¹ã‚­ãƒ£ãƒ³é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š

```
ã“ã®ç«¯æœ«ã§ã¯ã‚«ãƒ¡ãƒ©APIãŒã‚µãƒãƒ¼ãƒˆã§ãã¾ã›ã‚“
```

ã¾ãŸã¯

```
ã‚«ãƒ¡ãƒ©APIã‚’åˆ©ç”¨ã§ãã¾ã›ã‚“
```

---

## ğŸ“‹ åŸå› ã¨è§£æ±ºæ–¹æ³•

### 1ï¸âƒ£ **HTTPã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ï¼ˆæœ€ã‚‚ä¸€èˆ¬çš„ï¼‰**

#### åŸå› 
ã‚«ãƒ¡ãƒ©APIï¼ˆ`getUserMedia`ï¼‰ã¯**ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**ã§ã®ã¿å‹•ä½œã—ã¾ã™ã€‚
- âœ… HTTPSï¼ˆ`https://`ï¼‰
- âœ… localhostï¼ˆ`http://localhost` ã¾ãŸã¯ `http://127.0.0.1`ï¼‰
- âŒ HTTPï¼ˆ`http://192.168.x.x` ã‚„ `http://172.x.x.x`ãªã©ï¼‰

#### ç¢ºèªæ–¹æ³•
ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’ç¢ºèªï¼š
```
http://192.168.3.6        â† âŒ HTTPãªã®ã§å‹•ä½œã—ãªã„
https://192.168.3.6       â† âœ… HTTPSãªã‚‰å‹•ä½œã™ã‚‹
http://localhost           â† âœ… localhostãªã‚‰å‹•ä½œã™ã‚‹
```

#### è§£æ±ºæ–¹æ³•A: **HTTPSç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰**

```bash
# SSLã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
cd /home/tsutsumi/grafana-setup
./setup-ssl.sh
```

å®Ÿè¡Œã™ã‚‹ã¨ï¼š
1. è‡ªå·±ç½²åSSLè¨¼æ˜æ›¸ãŒç”Ÿæˆã•ã‚Œã‚‹ï¼ˆæœ‰åŠ¹æœŸé–“365æ—¥ï¼‰
2. nginxè¨­å®šãŒè‡ªå‹•çš„ã«HTTPSã«å¯¾å¿œ
3. nginxã‚³ãƒ³ãƒ†ãƒŠãŒå†èµ·å‹•ã•ã‚Œã‚‹

ãã®å¾Œã€iPhoneã‹ã‚‰ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š
```
https://192.168.3.6
```

âš ï¸ **åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®æ³¨æ„**
- ã€Œã“ã®æ¥ç¶šã§ã¯ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãŒä¿è­·ã•ã‚Œã¾ã›ã‚“ã€ã¨ã„ã†è­¦å‘ŠãŒå‡ºã¾ã™
- **ã€Œè©³ç´°ã‚’è¡¨ç¤ºã€â†’ã€Œã“ã®Webã‚µã‚¤ãƒˆã‚’é–²è¦§ã€**ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ç¶šè¡Œã—ã¦ãã ã•ã„
- è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®ãŸã‚ã€ã“ã®è­¦å‘Šã¯æ­£å¸¸ãªå‹•ä½œã§ã™

#### è§£æ±ºæ–¹æ³•B: **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰**

ã‚µãƒ¼ãƒãƒ¼ãŒç›´æ¥æ“ä½œã§ãã‚‹å ´åˆï¼š
```bash
# ã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹
http://localhost
```

---

### 2ï¸âƒ£ **iOSã®ã‚«ãƒ¡ãƒ©æ¨©é™ãŒè¨±å¯ã•ã‚Œã¦ã„ãªã„**

#### åŸå› 
iOSã®è¨­å®šã§Safariã®ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¦ã„ã‚‹

#### ç¢ºèªæ–¹æ³•
iPhoneã®è¨­å®šã‚¢ãƒ—ãƒªã‚’é–‹ãï¼š
```
è¨­å®š â†’ Safari â†’ ã‚«ãƒ¡ãƒ©
```

ã¾ãŸã¯

```
è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ ã‚«ãƒ¡ãƒ© â†’ Safari
```

#### è§£æ±ºæ–¹æ³•
1. è¨­å®šã‚¢ãƒ—ãƒªã‚’é–‹ã
2. **Safari** â†’ **ã‚«ãƒ¡ãƒ©** â†’ **ã€Œè¨±å¯ã€**ã‚’é¸æŠ
3. ã¾ãŸã¯**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** â†’ **ã‚«ãƒ¡ãƒ©** â†’ **Safari**ã‚’ã‚ªãƒ³ã«ã™ã‚‹
4. Safariã‚’å†èµ·å‹•ã—ã¦å†åº¦ã‚¢ã‚¯ã‚»ã‚¹

---

### 3ï¸âƒ£ **ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„**

#### åŸå› 
getUserMedia APIã¯ä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰å¯¾å¿œï¼š
- Safari 11+ (iOS 11+)
- Chrome 53+
- Firefox 36+

#### ç¢ºèªæ–¹æ³•
Safariã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªï¼š
```
è¨­å®š â†’ ä¸€èˆ¬ â†’ æƒ…å ± â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```

#### è§£æ±ºæ–¹æ³•
1. iOSã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. ã¾ãŸã¯åˆ¥ã®ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆChromeã€Firefoxï¼‰ã‚’è©¦ã™

---

### 4ï¸âƒ£ **Safariã®æ©Ÿèƒ½åˆ¶é™ãŒã‹ã‹ã£ã¦ã„ã‚‹**

#### åŸå› 
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚ºãƒ¢ãƒ¼ãƒ‰ã§é–‹ã„ã¦ã„ã‚‹
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ãŒæœ‰åŠ¹
- ä¼æ¥­ã®ç®¡ç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§åˆ¶é™ã•ã‚Œã¦ã„ã‚‹

#### è§£æ±ºæ–¹æ³•
1. **é€šå¸¸ãƒ¢ãƒ¼ãƒ‰**ã§Safariã‚’é–‹ãï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’è§£é™¤ï¼‰
2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–
3. ç®¡ç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆã¯ITç®¡ç†è€…ã«ç¢ºèª

---

## ğŸ§ª è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨

å•é¡Œã®åŸå› ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã€è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼š

### ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•
```
http://192.168.3.6/camera-test.html
ã¾ãŸã¯
https://192.168.3.6/camera-test.html
```

### è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã§ç¢ºèªã§ãã‚‹ã“ã¨
- âœ… ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆHTTP/HTTPSï¼‰
- âœ… ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®çŠ¶æ…‹
- âœ… ã‚«ãƒ¡ãƒ©APIã®å¯¾å¿œçŠ¶æ³
- âœ… åˆ©ç”¨å¯èƒ½ãªã‚«ãƒ¡ãƒ©ãƒ‡ãƒã‚¤ã‚¹
- âœ… å®Ÿéš›ã®ã‚«ãƒ¡ãƒ©èµ·å‹•ãƒ†ã‚¹ãƒˆ
- âœ… è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±

### è¨ºæ–­çµæœã®è¦‹æ–¹

#### âœ… ã™ã¹ã¦æ­£å¸¸ãªå ´åˆ
```
ãƒ—ãƒ­ãƒˆã‚³ãƒ«: https: âœ…
ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: âœ… ã¯ã„
getUserMedia: âœ… ã‚µãƒãƒ¼ãƒˆã‚ã‚Š
æ¨å¥¨äº‹é …: âœ… ã™ã¹ã¦ã®æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã¾ã™!
```
â†’ **QRã‚¹ã‚­ãƒ£ãƒ³ãŒä½¿ç”¨å¯èƒ½ã§ã™**

#### âŒ HTTPã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹å ´åˆ
```
ãƒ—ãƒ­ãƒˆã‚³ãƒ«: http: âŒ
ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: âŒ ã„ã„ãˆï¼ˆHTTPï¼‰
getUserMedia: âŒ ã‚µãƒãƒ¼ãƒˆãªã—
æ¨å¥¨äº‹é …: ğŸš« HTTPSãŒå¿…è¦ã§ã™
```
â†’ **./setup-ssl.shã‚’å®Ÿè¡Œã—ã¦HTTPSã‚’æœ‰åŠ¹åŒ–ã—ã¦ãã ã•ã„**

---

## ğŸ“± iPhoneã§ã®å®Œå…¨ãªè¨­å®šæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚µãƒ¼ãƒãƒ¼å´ã§HTTPSã‚’æœ‰åŠ¹åŒ–

```bash
# SSHã§ã‚µãƒ¼ãƒãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³
ssh tsutsumi@192.168.3.6

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /home/tsutsumi/grafana-setup

# SSLã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
./setup-ssl.sh

# å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
# "SSLè¨¼æ˜æ›¸ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°OK
```

### ã‚¹ãƒ†ãƒƒãƒ—2: iPhoneã®è¨­å®šç¢ºèª

```
1. è¨­å®šã‚¢ãƒ—ãƒªã‚’é–‹ã
2. Safari â†’ ã‚«ãƒ¡ãƒ© â†’ ã€Œè¨±å¯ã€ã‚’é¸æŠ
3. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ ã‚«ãƒ¡ãƒ© â†’ Safari ã‚’ã‚ªãƒ³
```

### ã‚¹ãƒ†ãƒƒãƒ—3: iPhoneã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹

```
1. Safariã§ https://192.168.3.6 ã‚’é–‹ã
2. è¨¼æ˜æ›¸ã®è­¦å‘ŠãŒå‡ºãŸã‚‰ã€Œè©³ç´°ã‚’è¡¨ç¤ºã€
3. ã€Œã“ã®Webã‚µã‚¤ãƒˆã‚’é–²è¦§ã€ã‚’ã‚¿ãƒƒãƒ—
4. å‡ºè·æŒ‡ç¤ºä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ã€ŒQRæ¤œå“ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
6. æ¤œå“è€…åã‚’å…¥åŠ›
7. ã€ŒQRã‚¹ã‚­ãƒ£ãƒ³é–‹å§‹ã€ã‚’ã‚¿ãƒƒãƒ—
8. ã‚«ãƒ¡ãƒ©æ¨©é™ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã‚‰ã€Œè¨±å¯ã€ã‚’ã‚¿ãƒƒãƒ—
```

### ã‚¹ãƒ†ãƒƒãƒ—4: QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³

```
1. ã‚«ãƒ¡ãƒ©ãŒèµ·å‹•ã—ã€ã‚¹ã‚­ãƒ£ãƒ³æ ãŒè¡¨ç¤ºã•ã‚Œã‚‹
2. QRã‚³ãƒ¼ãƒ‰ã‚’æ å†…ã«åã‚ã‚‹
3. è‡ªå‹•çš„ã«èª­ã¿å–ã‚ŠãŒé–‹å§‹ã•ã‚Œã‚‹
4. èª­ã¿å–ã‚ŠæˆåŠŸã™ã‚‹ã¨ç·‘è‰²ã§è¡¨ç¤ºã•ã‚Œã‚‹
5. ã™ã¹ã¦ã®QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³å¾Œã€ã€Œæ¤œå“å®Œäº†ã€
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q1: setup-ssl.shã‚’å®Ÿè¡Œã—ãŸãŒHTTPSã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**A:** nginxã‚³ãƒ³ãƒ†ãƒŠãŒæ­£ã—ãå†èµ·å‹•ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š

```bash
# ã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ç¢ºèª
docker-compose ps

# ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
docker-compose down
docker-compose up -d

# nginxã®ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose logs nginx
```

### Q2: HTTPSã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€Œæ¥ç¶šã§ãã¾ã›ã‚“ã€ã¨å‡ºã‚‹

**A:** ãƒãƒ¼ãƒˆ443ãŒé–‹æ”¾ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š

```bash
# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®ç¢ºèª
sudo ufw status

# ãƒãƒ¼ãƒˆ443ã‚’é–‹æ”¾ï¼ˆå¿…è¦ãªå ´åˆï¼‰
sudo ufw allow 443/tcp

# nginxãŒ443ãƒãƒ¼ãƒˆã§ãƒªãƒƒã‚¹ãƒ³ã—ã¦ã„ã‚‹ã‹ç¢ºèª
docker-compose logs nginx | grep "listening on"
```

### Q3: ã‚«ãƒ¡ãƒ©æ¨©é™ã‚’è¨±å¯ã—ãŸã®ã«èµ·å‹•ã—ãªã„

**A:** ä»¥ä¸‹ã‚’è©¦ã—ã¦ãã ã•ã„ï¼š

1. Safariã‚’å®Œå…¨ã«çµ‚äº†ï¼ˆãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ç”»é¢ã‹ã‚‰ä¸Šã«ã‚¹ãƒ¯ã‚¤ãƒ—ï¼‰
2. iPhoneã‚’å†èµ·å‹•
3. è¨ºæ–­ãƒ„ãƒ¼ãƒ«ï¼ˆcamera-test.htmlï¼‰ã§è©³ç´°ç¢ºèª
4. ã€Œã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã—ã¦ãƒ†ã‚¹ãƒˆã€ãƒœã‚¿ãƒ³ã§å®Ÿéš›ã®å‹•ä½œç¢ºèª

### Q4: è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®è­¦å‘Šã‚’æ¯å›å‡ºã•ãªã„ã‚ˆã†ã«ã—ãŸã„

**A:** æœ¬ç•ªç’°å¢ƒã§ã¯æ­£å¼ãªSSLè¨¼æ˜æ›¸ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼š

```bash
# Let's Encryptã®å ´åˆï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³åãŒå¿…è¦ï¼‰
sudo certbot --nginx -d yourdomain.com
```

ã¾ãŸã¯è¨¼æ˜æ›¸ã‚’iPhoneã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š
```
1. server.crt ãƒ•ã‚¡ã‚¤ãƒ«ã‚’iPhoneã«é€ä¿¡ï¼ˆãƒ¡ãƒ¼ãƒ«ãªã©ï¼‰
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. è¨­å®š â†’ ä¸€èˆ¬ â†’ æƒ…å ± â†’ è¨¼æ˜æ›¸ä¿¡é ¼è¨­å®š
4. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸè¨¼æ˜æ›¸ã‚’ã‚ªãƒ³ã«ã™ã‚‹
```

### Q5: ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãªã„

**A:** ãƒ­ã‚°ã‚’ç¢ºèªï¼š

```bash
# å…¨ä½“ã®ãƒ­ã‚°ç¢ºèª
docker-compose logs

# nginxå›ºæœ‰ã®ãƒ­ã‚°
docker-compose logs nginx

# ãƒãƒ¼ãƒˆã®ç«¶åˆç¢ºèª
sudo netstat -tuln | grep -E ':(80|443|3001|5432)'

# ã‚³ãƒ³ãƒ†ãƒŠã‚’å®Œå…¨ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦å†èµ·å‹•
docker-compose down -v
docker-compose up -d
```

---

## ğŸ“Š ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å•é¡Œè§£æ±ºã®å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- [ ] HTTPSã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ï¼ˆ`https://`ã§å§‹ã¾ã‚‹URLï¼‰
- [ ] ã¾ãŸã¯localhostã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹
- [ ] iOSã®è¨­å®šã§Safariã®ã‚«ãƒ¡ãƒ©æ¨©é™ãŒã€Œè¨±å¯ã€ã«ãªã£ã¦ã„ã‚‹
- [ ] SafariãŒæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆiOS 11ä»¥é™ï¼‰
- [ ] ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚ºãƒ¢ãƒ¼ãƒ‰ã§ã¯ãªã„
- [ ] nginxã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¦ã„ã‚‹ï¼ˆ`docker-compose ps`ã§ç¢ºèªï¼‰
- [ ] ãƒãƒ¼ãƒˆ80ã¨443ãŒé–‹æ”¾ã•ã‚Œã¦ã„ã‚‹
- [ ] è¨ºæ–­ãƒ„ãƒ¼ãƒ«ï¼ˆcamera-test.htmlï¼‰ã§æ­£å¸¸ã¨è¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ†˜ ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆ

ä»¥ä¸‹ã®æƒ…å ±ã‚’åé›†ã—ã¦ã‚µãƒãƒ¼ãƒˆã«å•ã„åˆã‚ã›ã¦ãã ã•ã„ï¼š

1. **è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã®çµæœ**
   ```
   https://192.168.3.6/camera-test.html ã«ã‚¢ã‚¯ã‚»ã‚¹
   ã€Œã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
   ```

2. **ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°**
   ```bash
   docker-compose logs nginx > nginx.log
   docker-compose logs production-api > api.log
   ```

3. **ç’°å¢ƒæƒ…å ±**
   ```bash
   docker-compose ps > containers.txt
   cat /etc/os-release > os-info.txt
   ```

4. **iPhoneã®æƒ…å ±**
   - iOSãƒãƒ¼ã‚¸ãƒ§ãƒ³
   - Safariãƒãƒ¼ã‚¸ãƒ§ãƒ³
   - è¨­å®š â†’ Safari â†’ ã‚«ãƒ¡ãƒ© ã®çŠ¶æ…‹ï¼ˆã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼‰

---

## ğŸ“š å‚è€ƒæƒ…å ±

- [MDN Web Docs - getUserMedia](https://developer.mozilla.org/ja/docs/Web/API/MediaDevices/getUserMedia)
- [Can I use - getUserMedia](https://caniuse.com/stream)
- [Safari Web Content Guide - Using the Camera](https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/Introduction/Introduction.html)

---

**ä½œæˆæ—¥**: 2025-10-12  
**å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: grafana-setup v1.0  
**ãƒ†ã‚¹ãƒˆç’°å¢ƒ**: Ubuntu 22.04, iOS 18.x, Safari 18.x

